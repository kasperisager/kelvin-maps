<?xml version="1.0" encoding="UTF-8"?>

<!-- JavaFX layouts -->
<?import javafx.scene.layout.Pane?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.layout.HBox?>

<!-- JavaFX controls -->
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Tooltip?>
<?import javafx.scene.control.Label?>

<!-- JavaFX shapes -->
<?import javafx.scene.shape.Circle?>
<?import javafx.scene.shape.LineTo?>
<?import javafx.scene.shape.MoveTo?>
<?import javafx.scene.shape.Path?>

<!-- Layout -->
<?import dk.itu.kelvin.layout.Chart?>


<StackPane
  fx:id ="mainStackPane"
  fx:controller="dk.itu.kelvin.controller.ChartController"
  xmlns:fx="http://javafx.com/fxml"
  prefWidth="640"
  prefHeight="640"
>
  <Pane
    focusTraversable="true"
    pickOnBounds="true"
    styleClass="map"

    onMouseEntered="#onMouseEntered"
    onMouseClicked="#onMouseClicked"
    onMousePressed="#onMousePressed"
    onMouseMoved="#onMouseMoved"
    onMouseDragged="#onMouseDragged"
    onMouseReleased="#onMouseReleased"

    onScroll="#onScroll"
    onZoom="#onZoom"
    onRotate="#onRotate"

    onKeyPressed="#onKeyPressed"
  >
    <Chart fx:id="chart" />
  </Pane>

  <fx:include source="Address.fxml" />

  <HBox
    alignment="BOTTOM_LEFT"
    pickOnBounds="false"
    fx:id="compassVBox"
    >
    <children>
      <VBox
        alignment="BOTTOM_LEFT"
        pickOnBounds="false"
        fillWidth="false"
      >
        <children>
            <StackPane>
              <children>
                <VBox alignment="CENTER" styleClass="compass">
                  <children>
                    <Path fx:id="compassArrow" styleClass="compass-arrow">
                      <elements>
                        <MoveTo x="0" y="6" />
                        <LineTo x="4" y="0" />
                        <LineTo x="8" y="6" />
                        <LineTo x="0" y="6" />
                      </elements>
                    </Path>

                    <Circle radius="30" styleClass="compass-disc" />
                  </children>
                </VBox>

                <VBox alignment="CENTER" styleClass="compass-reset">
                  <Button
                    text="&#xf366;"
                    styleClass="icon"
                    onAction="#compassReset"
                  >
                    <tooltip>
                      <Tooltip text="Reset compass"/>
                    </tooltip>
                  </Button>
                </VBox>
              </children>
            </StackPane>
          </children>
        </VBox>
    </children>

    <children>
          <Label
            styleClass="scaleIndicator"
            fx:id="scaleIndicatorLabel"
            ></Label>
    </children>
  </HBox>

  <VBox
    spacing="10"
    styleClass="u-padded"
    alignment="BOTTOM_RIGHT"
    pickOnBounds="false"
    fillWidth="false"
  >
    <children>
      <Button
        text="&#xF218;"
        styleClass="icon"
        onAction="#zoomIn"
      >
        <tooltip>
          <Tooltip text="Zoom in"/>
        </tooltip>
      </Button>

      <Button
        text="&#xF209;"
        styleClass="icon"
        onAction="#zoomOut"
      >
        <tooltip>
          <Tooltip text="Zoom out"/>
        </tooltip>
      </Button>
    </children>
  </VBox>
</StackPane>
